library(datasets)
data(mtcars)
sapply(split(mtcars$mpg,mtcars$cyl), mean)
or 
with(mtcars,tapply(mpg, cyl, mean))
